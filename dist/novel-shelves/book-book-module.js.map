{"version":3,"sources":["webpack:///./src/app/common/local-storage.ts","webpack:///./src/app/container/book/book-routing.module.ts","webpack:///./src/app/container/book/book.module.ts","webpack:///./src/app/container/book/catalog/catalog.component.html","webpack:///./src/app/container/book/catalog/catalog.component.less","webpack:///./src/app/container/book/catalog/catalog.component.ts","webpack:///./src/app/container/book/chapter/chapter.component.html","webpack:///./src/app/container/book/chapter/chapter.component.less","webpack:///./src/app/container/book/chapter/chapter.component.ts","webpack:///./src/app/container/book/detail/detail.component.html","webpack:///./src/app/container/book/detail/detail.component.less","webpack:///./src/app/container/book/detail/detail.component.ts","webpack:///./src/app/core/http/http.service.ts","webpack:///./src/app/core/resource-api.ts"],"names":[],"mappings":"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","file":"book-book-module.js","sourcesContent":["/*\n * @Author: qiuziz\n * @Date: 2017-08-18 15:26:27\n * */\n\nclass LocalStorageTools {\n  getItem(key) {\n    const value = localStorage.getItem(key);\n    return value !== 'undefined' ? JSON.parse(value) : undefined;\n  }\n\n  setItem(key, value) {\n    localStorage.setItem(key, JSON.stringify(value));\n  }\n\n  removeItem(key) {\n    localStorage.removeItem(key);\n  }\n\n  get length() {\n    return localStorage.length;\n  }\n\n  key(number) {\n    return localStorage.key(number);\n  }\n\n  clear() {\n    localStorage.clear();\n  }\n}\n\nexport const LocalStorage = new LocalStorageTools();\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { BookDetailComponent } from './detail/detail.component';\nimport { CatalogComponent } from './catalog/catalog.component';\nimport { ChapterComponent } from './chapter/chapter.component';\n\nconst routes: Routes = [\n  { path: '', redirectTo: 'search', pathMatch: 'full' },\n  {\n    path: ':id',\n      children: [\n        {\n          path: '',\n          component: BookDetailComponent\n        },\n        {\n          path: 'catalog',\n          component: CatalogComponent\n        },\n        {\n          path: ':chapterId',\n          component: ChapterComponent\n        }\n      ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class BookRoutingModule { }\n\n","import { NgModule } from '@angular/core';\nimport { BookDetailComponent } from './detail/detail.component';\nimport { CatalogComponent } from './catalog/catalog.component';\nimport { ChapterComponent } from './chapter/chapter.component';\nimport { BookRoutingModule } from './book-routing.module';\nimport { SharedModule } from '@shared/shared.module';\n\nconst COMPONENTS = [\n  BookDetailComponent,\n  CatalogComponent,\n  ChapterComponent\n];\n\n@NgModule({\n  imports: [\n    BookRoutingModule,\n    SharedModule\n  ],\n  declarations: [\n    ...COMPONENTS\n  ]\n})\nexport class BookModule { }\n","module.exports = \"<div class=\\\"catalog\\\">\\n  <div class=\\\"header\\\">\\n    <div>共{{bookCatalog.length}}章</div>\\n    <div>倒序</div>\\n  </div>\\n\\n  <ol class=\\\"contents\\\">\\n    <li class=\\\"chapter-bar\\\">正文卷</li>\\n    <li *ngFor=\\\"let item of bookCatalog\\\"\\n      class=\\\"chapter-li\\\"\\n      (click)=\\\"readChapter(item.id)\\\">\\n      {{item.chapter}}\\n    </li>\\n  </ol>\\n</div>\\n\"","module.exports = \".catalog .header {\\n  line-height: 28px;\\n  padding: 8px 1rem;\\n  display: flex;\\n  justify-content: space-between;\\n}\\n.catalog .contents {\\n  list-style: none;\\n  padding: 0;\\n}\\n.catalog .contents .chapter-bar {\\n  font-size: 13px;\\n  line-height: 28px;\\n  padding: 8px 1rem 0;\\n  color: #969ba3;\\n  background-color: #f6f7f9;\\n}\\n.catalog .contents .chapter-li {\\n  line-height: 1.5;\\n  padding-right: 2rem;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n  font: 14px/20px a;\\n  display: block;\\n  overflow: hidden;\\n  padding: 12px 0;\\n  margin: 0 1rem;\\n  font-weight: 500;\\n  color: inherit;\\n  border-bottom: 1px solid #f0f1f2;\\n}\\n.catalog .contents .chapter-li:last-child {\\n  border-bottom: 0;\\n}\\n\"","import { Component, OnInit, Input } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { HttpService } from '../../../core/http/http.service';\nimport { LocalStorage } from '../../../common/local-storage';\n\n@Component({\n  selector: 'app-catalog',\n  templateUrl: './catalog.component.html',\n  styleUrls: ['./catalog.component.less']\n})\nexport class CatalogComponent implements OnInit {\n  bookCatalog = [];\n  bookId = '';\n  book = {};\n  constructor(private route: ActivatedRoute, private router: Router, private httpService: HttpService) { }\n\n  ngOnInit() {\n    this.bookId = this.route.snapshot.params['id'];\n    this.getCatalog(this.bookId);\n    this.book = LocalStorage.getItem('book') || {};\n    document.title = (<any>this.book).name || 'NovelShelves';\n  }\n\n  getCatalog(id): void {\n    this.httpService.get('getBookCatalog', {id})\n      .subscribe(res => {\n        this.bookCatalog = res;\n      });\n  }\n\n  readChapter(chapterId): void {\n    this.router.navigate([`/book/${this.bookId}/${chapterId}`]);\n  }\n\n}\n","module.exports = \"<div class=\\\"chapter\\\">\\n    <div class=\\\"page-header\\\">\\n      <p>{{chapter.title}}</p>\\n    </div>\\n    <div class=\\\"content\\\">\\n      <article\\n        [ngStyle]=\\\"{'font-size': fontSize + 'px'}\\\"\\n        class=\\\"inner\\\"\\n        [innerHTML]=\\\"chapter.content\\\">\\n      </article>\\n    </div>\\n\\n    <div class=\\\"page-config\\\" *ngIf=\\\"pageConfig\\\">\\n      <header class=\\\"header\\\">\\n        <a href=\\\"javascript:\\\" class=\\\"header-back\\\" (click)=\\\"goBack()\\\">\\n            <i class=\\\"anticon anticon-left\\\"></i>\\n        </a>\\n      </header>\\n\\n      <div class=\\\"page-option\\\" *ngIf=\\\"pageSetting\\\">\\n          <div class=\\\"read-set-font\\\">\\n              <i class=\\\"novel novel-font-down\\\"></i>\\n              <nz-slider\\n                [nzMin]=\\\"12\\\"\\n                [nzMax]=\\\"30\\\"\\n                [(ngModel)]=\\\"fontSize\\\"\\n                (ngModelChange)=\\\"changeFontSize($event)\\\">\\n              </nz-slider>\\n              <i class=\\\"novel novel-font-up\\\"></i>\\n          </div>\\n          <!-- <div id=\\\"readSetSkin\\\" class=\\\"read-set-skin\\\">\\n              <ul class=\\\"btn-group\\\" role=\\\"radiogroup\\\">\\n                  <li class=\\\"btn-group-cell read-set-cell\\\">\\n                      <input type=\\\"radio\\\" id=\\\"skinDefault\\\" name=\\\"skin\\\" value=\\\"default\\\" checked=\\\"\\\" data-index=\\\"0\\\" data-eid=\\\"mqd_R23\\\" title=\\\"默认皮肤\\\">\\n                      <label class=\\\"read-skin-default\\\" for=\\\"skinDefault\\\" title=\\\"默认皮肤\\\"><svg class=\\\"icon icon-ok center\\\"><use xlink:href=\\\"#icon-ok\\\"></use></svg></label>\\n                  </li>\\n                  <li class=\\\"btn-group-cell read-set-cell\\\">\\n                      <input type=\\\"radio\\\" id=\\\"skinBlue\\\" name=\\\"skin\\\" value=\\\"blue\\\" data-index=\\\"1\\\" data-eid=\\\"mqd_R24\\\" title=\\\"蓝色皮肤\\\">\\n                      <label class=\\\"read-skin-blue\\\" for=\\\"skinBlue\\\" title=\\\"蓝色皮肤\\\"><svg class=\\\"icon icon-ok center\\\"><use xlink:href=\\\"#icon-ok\\\"></use></svg></label>\\n                  </li>\\n                  <li class=\\\"btn-group-cell read-set-cell\\\">\\n                      <input type=\\\"radio\\\" id=\\\"skinGreen\\\" name=\\\"skin\\\" value=\\\"green\\\" data-index=\\\"2\\\" data-eid=\\\"mqd_R25\\\" title=\\\"绿色皮肤\\\">\\n                      <label class=\\\"read-skin-green\\\" for=\\\"skinGreen\\\" title=\\\"绿色皮肤\\\"><svg class=\\\"icon icon-ok center\\\"><use xlink:href=\\\"#icon-ok\\\"></use></svg></label>\\n                  </li>\\n                  <li class=\\\"btn-group-cell read-set-cell\\\">\\n                      <input type=\\\"radio\\\" id=\\\"skinLight\\\" name=\\\"skin\\\" value=\\\"light\\\" data-index=\\\"3\\\" data-eid=\\\"mqd_R26\\\" title=\\\"浅色皮肤\\\">\\n                      <label class=\\\"read-skin-light\\\" for=\\\"skinLight\\\" title=\\\"浅色皮肤\\\"><svg class=\\\"icon icon-ok center\\\"><use xlink:href=\\\"#icon-ok\\\"></use></svg></label>\\n                  </li>\\n              </ul>\\n          </div>\\n          <div id=\\\"readSetLayout\\\" class=\\\"read-set-layout\\\">\\n              <ul class=\\\"btn-group\\\">\\n                  <li class=\\\"btn-group-cell read-set-cell\\\">\\n                      <input type=\\\"radio\\\" id=\\\"layoutV\\\" name=\\\"layout\\\" value=\\\"v\\\" checked=\\\"\\\" data-eid=\\\"mqd_R28\\\">\\n                      <label class=\\\"read-btn-layout\\\" for=\\\"layoutV\\\">上下滑动</label>\\n                  </li>\\n                  <li class=\\\"btn-group-cell read-set-cell\\\">\\n                      <input type=\\\"radio\\\" id=\\\"layoutH\\\" name=\\\"layout\\\" value=\\\"h\\\" data-eid=\\\"mqd_R27\\\">\\n                      <label class=\\\"read-btn-layout\\\" for=\\\"layoutH\\\">左右滑动</label>\\n                  </li>\\n              </ul>\\n          </div> -->\\n      </div>\\n      <footer class=\\\"footer\\\">\\n        <div class=\\\"btn-group\\\">\\n            <a href=\\\"javascript:\\\" (click)=\\\"goCatalog()\\\">\\n                <i class=\\\"novel novel-catalog\\\"></i>\\n                <h4 class=\\\"read-opt-footer-h\\\">目录</h4>\\n            </a>\\n            <a href=\\\"javascript:\\\">\\n                <i class=\\\"novel novel-progress\\\"></i>\\n                <h4 class=\\\"read-opt-footer-h\\\">进度</h4>\\n            </a>\\n            <a href=\\\"javascript:\\\" (click)=\\\"pageSet($event)\\\">\\n                <i class=\\\"novel novel-font\\\"></i>\\n                <h4 class=\\\"read-opt-footer-h\\\">设置</h4>\\n            </a>\\n\\n            <a href=\\\"javascript:\\\" (click)=\\\"dayNight()\\\">\\n                <i class=\\\"novel novel-night\\\" *ngIf=\\\"!day\\\"></i>\\n                <i class=\\\"novel novel-day\\\" *ngIf=\\\"day\\\"></i>\\n                <h4 class=\\\"read-opt-footer-h\\\" *ngIf=\\\"!day\\\">夜间</h4>\\n                <h4 class=\\\"read-opt-footer-h\\\" *ngIf=\\\"day\\\">日间</h4>\\n            </a>\\n        </div>\\n      </footer>\\n    </div>\\n</div>\\n\"","module.exports = \".chapter .page-header {\\n  position: fixed;\\n  top: 0;\\n  right: 0;\\n  left: 0;\\n  height: 44px;\\n  background: #c4b395;\\n  color: rgba(0, 0, 0, 0.4);\\n}\\n.chapter .page-header p {\\n  font-size: 0.75rem;\\n  font-weight: 400;\\n  position: absolute;\\n  top: 15px;\\n  left: 1rem;\\n}\\n.chapter .content {\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n.chapter .content article {\\n  padding-top: 2.75rem;\\n  font-size: 1rem;\\n  line-height: 1.8;\\n  min-height: calc(100vh - 44px);\\n  margin: 0 16px;\\n  text-align: justify;\\n  overflow: visible;\\n  height: 100%;\\n  -webkit-columns: calc(100vw - 32px) 1;\\n          columns: calc(100vw - 32px) 1;\\n  -webkit-column-gap: 16px;\\n          column-gap: 16px;\\n  word-break: break-all;\\n}\\n.chapter .btn {\\n  width: 100%;\\n  text-align: center;\\n  padding-bottom: 1rem;\\n  margin-top: 0.5rem;\\n}\\n.chapter .btn button {\\n  width: 90%;\\n  color: #fff;\\n  background-color: #ed424b;\\n  border-color: #ed424b;\\n  border-radius: 5px;\\n}\\n.chapter .page-config {\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n.chapter .page-config .header {\\n  transition: opacity 0.15s, visibility 0.15s, -webkit-transform 0.15s;\\n  transition: opacity 0.15s, transform 0.15s, visibility 0.15s;\\n  transition: opacity 0.15s, transform 0.15s, visibility 0.15s, -webkit-transform 0.15s;\\n  color: #fff;\\n  border-bottom: 0;\\n  background-color: rgba(0, 0, 0, 0.9);\\n  position: relative;\\n  box-sizing: border-box;\\n  height: 2.75rem;\\n  padding-top: 0.6875rem;\\n  padding-bottom: 0.625rem;\\n}\\n.chapter .page-config .header .header-back {\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  left: 0;\\n  padding: 0.625rem 0.8125rem 0.625rem 0.875rem;\\n}\\n.chapter .page-config .header .header-back .anticon-left {\\n  font-size: 18px;\\n  color: #fff;\\n}\\n.chapter .page-config .footer {\\n  position: absolute;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  height: 3rem;\\n  text-align: center;\\n  transition: opacity 0.15s, visibility 0.15s, -webkit-transform 0.15s;\\n  transition: opacity 0.15s, transform 0.15s, visibility 0.15s;\\n  transition: opacity 0.15s, transform 0.15s, visibility 0.15s, -webkit-transform 0.15s;\\n  color: #fff;\\n  border-bottom: 0;\\n  background-color: rgba(0, 0, 0, 0.9);\\n}\\n.chapter .page-config .footer .btn-group {\\n  display: table;\\n  width: 100%;\\n  margin-right: auto;\\n  margin-left: auto;\\n  table-layout: fixed;\\n}\\n.chapter .page-config .footer .btn-group a {\\n  font-size: 16px;\\n  padding-top: 0.375rem;\\n  /* font-size: 100%; */\\n  font-weight: 400;\\n  display: table-cell;\\n  text-decoration: none;\\n  color: #fff;\\n  outline: 0;\\n}\\n.chapter .page-config .footer .btn-group a .novel {\\n  font-weight: 600;\\n}\\n.chapter .page-config .footer .btn-group h4 {\\n  font-size: 10px;\\n  font-weight: 200;\\n  line-height: 1;\\n  position: relative;\\n  color: #fff;\\n}\\n.chapter .page-config .page-option {\\n  position: absolute;\\n  right: 0;\\n  bottom: 3rem;\\n  left: 0;\\n  /* visibility: hidden; */\\n  -webkit-transform: translateY(0.5px);\\n  transform: translateY(0.5px);\\n  opacity: 0;\\n  background-clip: padding-box;\\n  visibility: visible;\\n  transition: none;\\n  opacity: 1;\\n  transition: opacity 0.15s, visibility 0.15s, -webkit-transform 0.15s;\\n  transition: opacity 0.15s, transform 0.15s, visibility 0.15s;\\n  transition: opacity 0.15s, transform 0.15s, visibility 0.15s, -webkit-transform 0.15s;\\n  color: #fff;\\n  border-bottom: 0;\\n  background-color: rgba(0, 0, 0, 0.9);\\n}\\n.chapter .page-config .page-option .read-set-font {\\n  display: flex;\\n  width: 100%;\\n  flex-direction: row;\\n  justify-content: space-between;\\n  padding-top: 0.5rem;\\n}\\n.chapter .page-config .page-option nz-slider {\\n  width: 100%;\\n}\\n\"","import { Component, OnInit, ElementRef, OnDestroy, AfterViewChecked, HostListener } from '@angular/core';\nimport { ActivatedRoute, Router, NavigationEnd } from '@angular/router';\nimport { HttpService } from '../../../core/http/http.service';\nimport { LocalStorage } from '../../../common/local-storage';\nimport { touch, move, click } from '../../../common/touch';\nimport {Location} from '@angular/common';\nimport { fromEvent } from 'rxjs';\nimport { throttleTime, debounceTime, tap, map } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-chapter',\n  templateUrl: './chapter.component.html',\n  styleUrls: ['./chapter.component.less']\n})\nexport class ChapterComponent implements OnInit, OnDestroy {\n  chapter = {};\n  pageConfig = false;\n  fontSize = LocalStorage.getItem('fontSize') || 16;\n  pageSetting = false;\n  day = false;\n  page = LocalStorage.getItem('page') || 0;\n  pageSize = 0;\n  transformX = 0;\n  moveStart = 0;\n  moveDistance = 0;\n  book = {};\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private httpService: HttpService,\n    private el: ElementRef,\n    private location: Location\n   ) {   }\n\n  ngOnInit() {\n    const bookId = this.route.snapshot.params['id'],\n    chapterId = this.route.snapshot.params['chapterId'];\n    this.getChapter(bookId, chapterId);\n    document.body.style.backgroundColor = '#c4b395';\n    document.body.addEventListener('touchmove', function (e) {\n      e.preventDefault(); // 阻止默认的处理方式(阻止下拉滑动的效果)\n    }, {passive: false}); // passive 参数不能省略，用来兼容ios和android\n    this.book = LocalStorage.getItem('book') || {};\n    document.title = (<any>this.book).name || 'NovelShelves';\n\n    fromEvent(this.el.nativeElement.querySelector('.chapter'), 'touchstart')\n    .subscribe(event => {\n      this.moveDistance = 0;\n      this.moveStart = (<any>event).changedTouches[0].clientX;\n    });\n\n    fromEvent(this.el.nativeElement.querySelector('.chapter'), 'touchmove')\n      .subscribe(event => {\n        if ((<any>event).target.className === 'inner' || (<any>event).target.className === 'content') {\n          this.moveDistance = this.moveStart - (<any>event).changedTouches[0].clientX;\n          this.el.nativeElement.querySelector('.inner').style.transform = `translateX(-${this.transformX + this.moveDistance}px)`;\n        }\n      });\n    fromEvent(this.el.nativeElement.querySelector('.chapter'), 'touchend')\n      .pipe(map(event => {\n        const x = (<any>event).changedTouches[0].pageX;\n        const y = (<any>event).changedTouches[0].pageY - window.scrollY;\n        return (this.pageConfig && !this.isClickCenter(x, y)) ? {stop: true} : event;\n      }))\n      .subscribe(event => {\n        if ((<any>event).stop) {\n          return;\n        }\n        const x = (<any>event).changedTouches[0].pageX;\n        const y = (<any>event).changedTouches[0].pageY - window.scrollY;\n        console.log(x, y);\n        if (this.isClickCenter(x, y) && this.moveDistance === 0) {\n          console.log('点击屏幕中间');\n          this.pageConfig = !this.pageConfig;\n          if (!this.pageConfig) {\n            this.pageSetting = false;\n          }\n          document.body.style.overflow = this.pageConfig ? 'hidden' : '';\n        } else if (this.isClickLeftTop(x, y)) {\n          console.log('点击屏幕左上');\n          this.next('prev');\n        } else {\n          this.next(this.moveDistance >= 0 ? '' : 'prev');\n        }\n      });\n  }\n\n  isClickCenter (x, y) {\n    const centerX = window.innerWidth / 2;\n    const centerY = window.innerHeight / 2;\n    const isXCenter = ( x < (centerX + 40) ) && ( x > (centerX - 40) );\n    const isYCenter = ( y < (centerY + 100) ) && ( y > (centerY - 100) );\n    return isXCenter && isYCenter;\n  }\n\n  isClickLeftTop (x, y) {\n    const centerX = window.innerWidth / 2;\n    const centerY = window.innerHeight / 2;\n    const isXLeft = x < (centerX);\n    const isYTop = y < (centerY - 40);\n    return isXLeft && isYTop;\n  }\n\n  getChapter(bookId, chapterId, type?: string): void {\n    this.el.nativeElement.querySelector('.inner').style.transition = '';\n\n    const chapter = LocalStorage.getItem('chapter' + bookId);\n    if (chapter && parseInt(chapterId, 10) === chapter.id) {\n      this.chapter = chapter;\n      this.adjustPageSize(type);\n      return;\n    }\n    this.httpService.get('getChapter', {bookId, chapterId})\n      .subscribe(res => {\n        this.chapter = res;\n\n        this.page =  0;\n        this.adjustPageSize(type);\n\n        if (!(<any>this.chapter).content) {\n          (<any>this.chapter).content = `\\n\\t\\t\\t<div>当前章节暂无内容</div>`;\n        }\n        LocalStorage.setItem('chapter' + bookId, this.chapter);\n\n        this.location.replaceState(`/book/${bookId}/${chapterId}`);\n      });\n  }\n\n  changeFontSize(value) {\n    this.el.nativeElement.querySelector('.inner').style.fontSize = value + 'px';\n    LocalStorage.setItem('fontSize', value);\n    this.adjustPageSize();\n  }\n\n  pageSet(event) {\n    this.pageSetting = !this.pageSetting;\n  }\n\n  goCatalog() {\n    this.router.navigate([`/book/${(<any>this.chapter).bookId}/catalog`]);\n  }\n\n  goBack() {\n    this.location.back();\n  }\n\n  dayNight() {\n    this.day = !this.day;\n    document.body.style.backgroundColor = this.day ? '#1a1a1a' : '#c4b395';\n    this.el.nativeElement.querySelector('.page-header').style.backgroundColor = this.day ? '#1a1a1a' : '#c4b395';\n    document.body.style.color = this.day ? 'rgba(255,255,255,.5)' : '#33373d';\n    this.el.nativeElement.querySelector('.page-header').style.color = this.day ? 'rgba(255,255,255,.5)' : 'rgba(0,0,0,.4)';\n  }\n\n  next(type?: string) {\n    if (this.page === 0 && type === 'prev') {\n      if (!(<any>this.chapter).prev) {\n        console.log('当前已是第一章');\n        return;\n      }\n      this.getChapter((<any>this.chapter).bookId, (<any>this.chapter).prev, 'prev');\n      return;\n    }\n    type === 'prev' ? this.page-- : this.page++;\n    if (this.page > this.pageSize) {\n      this.getChapter((<any>this.chapter).bookId, (<any>this.chapter).next, 'next');\n      return;\n    }\n    this.pageTransform(this.page);\n    this.el.nativeElement.querySelector('.inner').style.transition = 'transform .1s';\n  }\n\n  pageTransform(page) {\n    console.log(this.page, this.pageSize);\n    LocalStorage.setItem('page', page);\n    this.transformX = (window.innerWidth - 16) * page;\n    this.el.nativeElement.querySelector('.inner').style.transform = `translateX(-${this.transformX}px)`;\n  }\n\n  adjustPageSize(type?: string) {\n    setTimeout(() => {\n      this.pageSize = Math.floor(document.body.querySelector('.inner').scrollWidth / (window.innerWidth - 16));\n      if (type === 'next') {\n        this.page =  0;\n      }\n      if (type === 'prev') {\n        this.page =  this.pageSize;\n      }\n      if (this.page > this.pageSize) {\n        this.page = this.pageSize;\n      }\n      this.pageTransform(this.page);\n    }, 0);\n  }\n\n  ngOnDestroy() {\n    document.body.style.backgroundColor = '';\n  }\n}\n","module.exports = \"<div class=\\\"book-detail\\\">\\n  <div class=\\\"info\\\">\\n    <img class=\\\"cover\\\" [src]=\\\"book.cover || ''\\\" alt=\\\"{{book.name}}\\\">\\n    <div class=\\\"cell\\\">\\n      <h2 class=\\\"title\\\">{{book.name}}</h2>\\n      <p class=\\\"author book-meta\\\">{{book.author}}</p>\\n      <p class=\\\"category book-meta\\\">{{book.category}}</p>\\n      <p class=\\\"state book-meta\\\">{{book.state}}</p>\\n    </div>\\n  </div>\\n  <div class=\\\"btn\\\">\\n    <button nz-button nzType=\\\"primary\\\" (click)=\\\"read()\\\">开始阅读</button>\\n    <button nz-button nzType=\\\"default\\\">加入书架</button>\\n    <button nz-button nzType=\\\"default\\\" [routerLink]=\\\" '/book/' + book.id + '/catalog'\\\">查看目录</button>\\n  </div>\\n  <div class=\\\"intro\\\" [innerHTML]=\\\"book.intro\\\">\\n  </div>\\n</div>\\n\\n\"","module.exports = \".book-detail .info {\\n  position: relative;\\n  display: block;\\n  overflow: hidden;\\n  padding: 1rem;\\n  transition: padding-left 0.15s;\\n}\\n.book-detail .info .cover {\\n  width: 5.25rem;\\n  height: 7rem;\\n  border-radius: 2px;\\n  box-shadow: none;\\n  font-size: 0;\\n  float: left;\\n  margin-right: 0.5rem;\\n}\\n.book-detail .info .cell {\\n  line-height: 1.4rem;\\n}\\n.book-detail .info .cell .title {\\n  line-height: 1.4;\\n  overflow: hidden;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n}\\n.book-detail .info .cell .author {\\n  font-size: 0.8125rem;\\n}\\n.book-detail .info .cell .book-meta {\\n  font-size: 0.75rem;\\n  overflow: hidden;\\n}\\n.book-detail .btn {\\n  display: flex;\\n  justify-content: space-around;\\n  align-items: center;\\n  padding: 0 1rem 1rem;\\n}\\n.book-detail .btn button {\\n  font-size: 0.8125rem;\\n  line-height: 1.875rem;\\n  display: inline-block;\\n  padding: 0 1rem;\\n  text-align: center;\\n  border-radius: 0.125rem;\\n}\\n.book-detail .intro {\\n  font-size: 0.875rem;\\n  line-height: 1.5rem;\\n  position: relative;\\n  overflow: hidden;\\n  margin-left: 1rem;\\n  padding-right: 1rem;\\n  text-align: justify;\\n  border-top: 1rem solid transparent;\\n  border-bottom: 1rem solid transparent;\\n  box-shadow: 0 1px #f0f1f2, 0 -1px #f0f1f2;\\n}\\n\"","import { Component, OnInit, Input } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { HttpService } from '@core/http/http.service';\nimport { LocalStorage } from '../../../common/local-storage';\nimport { NzMessageService } from 'ng-zorro-antd';\n\n@Component({\n  selector: 'app-detail',\n  templateUrl: './detail.component.html',\n  styleUrls: ['./detail.component.less']\n})\nexport class BookDetailComponent implements OnInit {\n  book = {};\n  chapter = {};\n  constructor(\n    private httpService: HttpService,\n    private router: Router,\n    private message: NzMessageService,\n    private route: ActivatedRoute) { }\n\n  ngOnInit() {\n    const id = this.route.snapshot.params['id'];\n    this.getBookDetail(id);\n  }\n\n  getBookDetail(id): void {\n    const book = LocalStorage.getItem('book') || {};\n    if (book.id === parseInt(id, 10)) {\n      this.book = book;\n    } else {\n      this.httpService.get('getBook', {id}).subscribe(res => {\n        this.book = res;\n        LocalStorage.setItem('book', this.book);\n      });\n    }\n  }\n\n  read(): void {\n    const book = LocalStorage.getItem('book');\n    const chapter = LocalStorage.getItem('chapter' + book.id);\n\n    if (chapter) {\n      this.router.navigate([`/book/${book.id}/${chapter.id}`]);\n    } else if (book.catalog && book.catalog.length > 0) {\n      this.router.navigate([`/book/${book.id}/${book.catalog[0].id}`]);\n    } else {\n      this.httpService.get('getBookCatalog', {id: book.id})\n        .subscribe(res => {\n          if (res[0] && res[0].id) {\n            this.router.navigate([`/book/${book.id}/${res[0].id}`]);\n          } else {\n            this.message.error(`暂无内容`);\n          }\n        });\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { tap } from 'rxjs/operators';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Resource } from '../resource-api';\nimport { GlobalsService } from '../../common/globals.service';\n\nconst matchUrlSearchParams = (url, urlSearchParams) => {\n  if (!urlSearchParams) {\n    return url.replace(/\\/:[^?]+/g, '');\n  }\n  const u = new URLSearchParams();\n  let _url = Object.keys(urlSearchParams).reduce((pre, next) => {\n    if (pre.includes(':' + next)) {\n      return pre.replace(':' + next, urlSearchParams[next]);\n    } else {\n      if (urlSearchParams[next] && urlSearchParams[next].constructor === Array) {\n        urlSearchParams[next].forEach(value => {\n        u.append(next, value);\n        });\n      } else {\n        u.append(next, urlSearchParams[next]);\n      }\n      return pre;\n    }\n  }, url);\n  _url = _url.replace(/\\/:[^?]+/g, '');\n  return _url + (u.toString() === '' ? '' : '?' + u);\n};\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class HttpService {\n  private headers;\n  private options;\n  constructor(private http: HttpClient, private globals: GlobalsService) {\n    this.headers = new HttpHeaders();\n    this.options = {headers: this.headers};\n   }\n\n  get(url, urlSearchParams, options?): Observable<any> {\n    this.globals.loading = true;\n    return this.http.request('GET', matchUrlSearchParams(Resource[url], urlSearchParams), { ...this.options, ...options })\n    .pipe(tap(() => {\n      this.globals.loading = false;\n    }));\n  }\n\n  post(url, urlSearchParams, bodyParams, options) {\n    return this.http.request('POST', matchUrlSearchParams(Resource[url], urlSearchParams),\n      Object.assign({ ...this.options, ...options }, {\n        body: JSON.stringify(bodyParams)\n      })\n    )\n    .pipe(tap(() => this.globals.loading = false));\n  }\n\n  delete(url, urlSearchParams, options) {\n    return this.http.request('DELETE', matchUrlSearchParams(Resource[url], urlSearchParams), { ...this.options, ...options })\n    .pipe(tap(() => this.globals.loading = false));\n  }\n\n  put(url, urlSearchParams, bodyParams, options) {\n    return this.http.request('PUT', matchUrlSearchParams(Resource[url], urlSearchParams),\n      Object.assign({ ...this.options, ...options }, {\n        body: JSON.stringify(bodyParams)\n      })\n    )\n    .pipe(tap(() => this.globals.loading = false));\n  }\n\n  patch(url, urlSearchParams, bodyParams, options) {\n    return this.http.request('PATCH', matchUrlSearchParams(Resource[url], urlSearchParams),\n      Object.assign({ ...this.options, ...options }, {\n        body: JSON.stringify(bodyParams)\n      })\n    )\n    .pipe(tap(() => this.globals.loading = false));\n  }\n}\n","/*\n * @Author: qiuziz\n * @Date: 2017-08-15 10:12:02\n * */\n\nconst API_HOST = '';\nconst SERVICE_NAME = '/api';\n\nexport const Resource: Object = {\n  search: `${SERVICE_NAME}/search/:name`,\n  getBook: `${SERVICE_NAME}/book/:id`,\n  getBookCatalog: `${SERVICE_NAME}/catalog/:id`,\n  getChapter: `${SERVICE_NAME}/chapter/:bookId/:chapterId`\n\n};\n\n"],"sourceRoot":""}
{"version":3,"sources":["webpack:///./src/app/common/local-storage.ts","webpack:///./src/app/container/shelves/shelves-routing.module.ts","webpack:///./src/app/container/shelves/shelves.component.html","webpack:///./src/app/container/shelves/shelves.component.less","webpack:///./src/app/container/shelves/shelves.component.ts","webpack:///./src/app/container/shelves/shelves.module.ts","webpack:///./src/app/core/http/http.service.ts","webpack:///./src/app/core/resource-api.ts"],"names":[],"mappings":"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","file":"shelves-shelves-module.js","sourcesContent":["/*\n * @Author: qiuziz\n * @Date: 2017-08-18 15:26:27\n * */\n\nclass LocalStorageTools {\n  getItem(key) {\n    const value = localStorage.getItem(key);\n    return value !== 'undefined' ? JSON.parse(value) : undefined;\n  }\n\n  setItem(key, value) {\n    localStorage.setItem(key, JSON.stringify(value));\n  }\n\n  removeItem(key) {\n    localStorage.removeItem(key);\n  }\n\n  get length() {\n    return localStorage.length;\n  }\n\n  key(number) {\n    return localStorage.key(number);\n  }\n\n  clear() {\n    localStorage.clear();\n  }\n}\n\nexport const LocalStorage = new LocalStorageTools();\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ShelvesComponent } from './shelves.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ShelvesComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class ShelvesRoutingModule { }\n\n","module.exports = \"<div class=\\\"app-shelves\\\">\\n  <div class=\\\"list\\\" (click)=\\\"reading(book)\\\" *ngFor=\\\"let book of shelves; index as i\\\">\\n    <div class=\\\"cover\\\">\\n      <img [src]=\\\"book.cover || ''\\\" [alt]=\\\"book.name\\\">\\n    </div>\\n    <div class=\\\"detail\\\">\\n      <div class=\\\"name\\\">{{book.name}}</div>\\n      <i class=\\\"novel novel-config\\\" (click)=\\\"showDetail($event, book)\\\"></i>\\n      <div class=\\\"info\\\">{{book.category}} | {{book.author}} | {{book.state}}</div>\\n      <div class=\\\"last-update\\\">最新：{{book.lastChapter}}</div>\\n    </div>\\n  </div>\\n</div>\\n<div class=\\\"empty\\\" *ngIf=\\\"shelves.length <= 0\\\">\\n  书架暂无书籍\\n</div>\\n\"","module.exports = \".list {\\n  display: flex;\\n  align-items: center;\\n  justify-content: left;\\n  border-bottom: 1px solid #f0f1f2;\\n  width: 90%;\\n  margin: 0 auto;\\n  padding: 10px;\\n}\\n.list .cover {\\n  width: 3.375rem;\\n  height: 4.5rem;\\n}\\n.list .cover img {\\n  width: 100%;\\n  height: 100%;\\n}\\n.list:first-child {\\n  margin-top: 10px;\\n}\\n.list .number {\\n  flex: 0 0 40px;\\n  height: 50px;\\n  display: flex;\\n  align-items: center;\\n  background: #68aac2;\\n  justify-content: center;\\n  margin-right: 10px;\\n  border-radius: 8px;\\n}\\n.list .detail {\\n  text-align: left;\\n  width: calc(90% - 4.375rem);\\n  margin-left: 1rem;\\n  position: relative;\\n}\\n.list .detail .name {\\n  font-size: 16px;\\n  font-weight: bold;\\n  line-height: 1.4;\\n  overflow: hidden;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n}\\n.list .detail .info,\\n.list .detail .last-update {\\n  font-size: 0.8rem;\\n}\\n.list .detail .last-update {\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n}\\n.list .detail .novel-config {\\n  position: absolute;\\n  right: -2rem;\\n  top: 0;\\n  width: 50px;\\n  text-align: center;\\n  height: 30px;\\n}\\n.book-options {\\n  display: flex;\\n  list-style: none;\\n  align-items: center;\\n  justify-content: space-around;\\n  margin: 1rem 0 0 0;\\n  padding: 0;\\n}\\n.book-options li {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n}\\n.book-options li .novel-catalog {\\n  font-weight: bold;\\n}\\n.book-options li p {\\n  font-size: 12px;\\n  font-weight: 300;\\n}\\n.book-detail {\\n  background: #F2F7FA;\\n  display: flex;\\n  align-items: center;\\n  justify-content: left;\\n  height: 5rem;\\n}\\n.book-detail .cover {\\n  width: 2.375rem;\\n  height: 3rem;\\n  margin: 0 0.5rem 0 1rem;\\n}\\n.book-detail .cover img {\\n  width: 100%;\\n  height: 100%;\\n}\\n.book-detail .detail .name {\\n  font-size: 16px;\\n  font-weight: bold;\\n  line-height: 1.4;\\n  overflow: hidden;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n}\\n.book-detail .detail .info {\\n  font-size: 12px;\\n  color: #8C949F;\\n}\\n.book-detail .btn {\\n  position: absolute;\\n  right: 1rem;\\n  height: 25px;\\n  font-size: 12px;\\n  border-color: #e85c7b;\\n  color: #e85c7b;\\n}\\n.empty {\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  color: #c5b6b6;\\n  font-size: 1rem;\\n}\\n\"","import { Component, OnInit, ElementRef, OnDestroy, AfterViewChecked, HostListener, ViewChild, Input } from '@angular/core';\nimport { ActivatedRoute, Router, NavigationEnd } from '@angular/router';\nimport { HttpService } from '../../core/http/http.service';\nimport { LocalStorage } from '../../common/local-storage';\nimport { touch, move, click } from '../../common/touch';\nimport {Location} from '@angular/common';\nimport { fromEvent } from 'rxjs';\nimport { throttleTime, debounceTime, tap, map } from 'rxjs/operators';\nimport { NzMessageService, NzDrawerService, NzDrawerRef } from 'ng-zorro-antd';\n\n@Component({\n  selector: 'app-shelves',\n  templateUrl: './shelves.component.html',\n  styleUrls: ['./shelves.component.less']\n})\nexport class ShelvesComponent implements OnInit, OnDestroy {\n  // tslint:disable-next-line:max-line-length\n  shelves = LocalStorage.getItem('shelves') || [];\n  visible = true;\n  @ViewChild('drawerTitle') drawerTitle;\n  @ViewChild('drawerBody') drawerBody;\n\n  bookOptions = {\n    display: 'flex',\n    'list-style': 'none',\n    'align-items': 'center',\n    'justify-content': 'space-around',\n    margin: 0,\n    padding: 0,\n  };\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private httpService: HttpService,\n    private el: ElementRef,\n    private message: NzMessageService,\n    private drawerService: NzDrawerService,\n    private location: Location\n   ) {\n     LocalStorage.setItem('headerTitle', '书架');\n   }\n\n  ngOnInit() {\n    this.getShelvesBook();\n  }\n\n  getShelvesBook() {\n    this.httpService.get('getShelvesBook').subscribe(res => {\n      this.shelves = res;\n      LocalStorage.setItem('shelves', res);\n    });\n  }\n\n  showDetail(event, book) {\n    event.stopPropagation();\n    this.drawerService.create<NzDrawerBodyComponent, {book: object}, object>({\n      nzClosable: false,\n      nzContent: NzDrawerBodyComponent,\n      nzPlacement: 'bottom',\n      nzHeight: 200,\n      nzContentParams: {\n        book: book\n      }\n    });\n  }\n\n  close() {\n    this.visible = false;\n  }\n\n  reading(book) {\n    const chapter = LocalStorage.getItem('chapter' + book.id);\n    if (chapter) {\n      this.router.navigate([`/book/${book.id}/${chapter.id}`]);\n    } else if (book.catalog && book.catalog.length > 0) {\n      this.router.navigate([`/book/${book.id}/${book.catalog[0].id}`]);\n    } else {\n      this.httpService.get('getBookCatalog', {id: book.id})\n        .subscribe(res => {\n          if (res[0] && res[0].id) {\n            this.router.navigate([`/book/${book.id}/${res[0].id}`]);\n          } else {\n            this.message.error(`暂无内容`);\n          }\n        });\n    }\n  }\n\n  ngOnDestroy() {\n\n  }\n}\n\n@Component({\n  selector: 'app-drawer-body',\n  styleUrls: ['./shelves.component.less'],\n  template: `\n    <div class=\"book-detail\" >\n      <div class=\"cover\">\n        <img [src]=\"book.cover || ''\" [alt]=\"book.name\">\n      </div>\n      <div class=\"detail\">\n        <div class=\"name\">{{book.name}}</div>\n        <div class=\"info\">{{book.author}}</div>\n      </div>\n      <button nz-button class=\"btn\" (click)=\"goBook(book)\">详情</button>\n    </div>\n    <ul class=\"book-options\">\n      <li (click)=\"goBookCatalog(book)\">\n        <i class=\"novel novel-catalog\"></i>\n        <p>目录</p>\n      </li>\n      <li>\n        <i class=\"novel novel-download\"></i>\n        <p>缓存</p>\n      </li>\n      <li>\n        <i class=\"novel novel-delete\"></i>\n        <p>删除</p>\n      </li>\n    </ul>\n  `\n})\nexport class NzDrawerBodyComponent {\n  @Input() book = {};\n\n  constructor(\n    private drawerRef: NzDrawerRef<string>,\n    private router: Router\n  ) {\n  }\n\n  close(): void {\n    this.drawerRef.close();\n  }\n\n  goBook(book: object): void {\n    this.close();\n    this.router.navigate([`/book/${(<any>book).id}`]);\n  }\n\n  goBookCatalog(book: object): void {\n    this.close();\n    this.router.navigate([`/book/${(<any>book).id}/catalog`]);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { ShelvesComponent, NzDrawerBodyComponent } from './shelves.component';\nimport { ShelvesRoutingModule } from './shelves-routing.module';\nimport { SharedModule } from '@shared/shared.module';\n\nconst COMPONENTS = [\n  ShelvesComponent,\n  NzDrawerBodyComponent\n];\n\n@NgModule({\n  imports: [\n    ShelvesRoutingModule,\n    SharedModule\n  ],\n  declarations: [\n    ...COMPONENTS\n  ],\n  entryComponents: [\n    NzDrawerBodyComponent\n  ]\n})\nexport class ShelvesModule { }\n","import { Injectable } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { tap } from 'rxjs/operators';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Resource } from '../resource-api';\nimport { GlobalsService } from '../../common/globals.service';\n\nconst matchUrlSearchParams = (url, urlSearchParams) => {\n  if (!urlSearchParams) {\n    return url.replace(/\\/:[^?]+/g, '');\n  }\n  const u = new URLSearchParams();\n  let _url = Object.keys(urlSearchParams).reduce((pre, next) => {\n    if (pre.includes(':' + next)) {\n      return pre.replace(':' + next, urlSearchParams[next]);\n    } else {\n      if (urlSearchParams[next] && urlSearchParams[next].constructor === Array) {\n        urlSearchParams[next].forEach(value => {\n        u.append(next, value);\n        });\n      } else {\n        u.append(next, urlSearchParams[next]);\n      }\n      return pre;\n    }\n  }, url);\n  _url = _url.replace(/\\/:[^?]+/g, '');\n  return _url + (u.toString() === '' ? '' : '?' + u);\n};\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class HttpService {\n  private headers;\n  private options;\n  constructor(private http: HttpClient, private globals: GlobalsService) {\n    this.headers = new HttpHeaders();\n    this.options = {headers: this.headers};\n   }\n\n  get(url, urlSearchParams?, options?): Observable<any> {\n    this.globals.loading = this.globals.loadOnce;\n    return this.http.request('GET', matchUrlSearchParams(Resource[url], urlSearchParams), { ...this.options, ...options })\n    .pipe(tap(() => {\n      this.globals.loading = false;\n    }));\n  }\n\n  post(url, urlSearchParams, bodyParams, options) {\n    return this.http.request('POST', matchUrlSearchParams(Resource[url], urlSearchParams),\n      Object.assign({ ...this.options, ...options }, {\n        body: JSON.stringify(bodyParams)\n      })\n    )\n    .pipe(tap(() => this.globals.loading = false));\n  }\n\n  delete(url, urlSearchParams, options) {\n    return this.http.request('DELETE', matchUrlSearchParams(Resource[url], urlSearchParams), { ...this.options, ...options })\n    .pipe(tap(() => this.globals.loading = false));\n  }\n\n  put(url, urlSearchParams, bodyParams, options) {\n    return this.http.request('PUT', matchUrlSearchParams(Resource[url], urlSearchParams),\n      Object.assign({ ...this.options, ...options }, {\n        body: JSON.stringify(bodyParams)\n      })\n    )\n    .pipe(tap(() => this.globals.loading = false));\n  }\n\n  patch(url, urlSearchParams, bodyParams, options) {\n    return this.http.request('PATCH', matchUrlSearchParams(Resource[url], urlSearchParams),\n      Object.assign({ ...this.options, ...options }, {\n        body: JSON.stringify(bodyParams)\n      })\n    )\n    .pipe(tap(() => this.globals.loading = false));\n  }\n}\n","/*\n * @Author: qiuziz\n * @Date: 2017-08-15 10:12:02\n * */\n\nconst API_HOST = '';\nconst SERVICE_NAME = '/api';\n\nexport const Resource: Object = {\n  search: `${SERVICE_NAME}/search/:name`,\n  getBook: `${SERVICE_NAME}/book/:id`,\n  getBookCatalog: `${SERVICE_NAME}/catalog/:id`,\n  getChapter: `${SERVICE_NAME}/chapter/:bookId/:chapterId`,\n  addShelves: `${SERVICE_NAME}/addShelves/:bookId`,\n  getShelvesBook: `${SERVICE_NAME}/getShelvesBook`\n};\n\n"],"sourceRoot":""}